<!DOCTYPE html>
<!-- saved from url=(0113)http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to -->
<html itemscope="" itemtype="http://schema.org/QAPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>activation - Uninstall, Activate, Deactivate a plugin: typical features &amp; how-to - WordPress Development Stack Exchange</title>
    <link rel="shortcut icon" href="http://cdn.sstatic.net/wordpress/img/favicon.ico?v=a1565f27eaa1">
    <link rel="apple-touch-icon image_src" href="http://cdn.sstatic.net/wordpress/img/apple-touch-icon.png?v=abda6fe50fe5">
    <link rel="search" type="application/opensearchdescription+xml" title="WordPress Development Stack Exchange" href="http://wordpress.stackexchange.com/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@StackWordPress">
    <meta name="twitter:domain" content="wordpress.stackexchange.com">
    <meta property="og:type" content="website">
    <meta property="og:image" itemprop="image primaryImageOfPage" content="http://cdn.sstatic.net/wordpress/img/apple-touch-icon@2.png?v=883ae45dd87c">
    <meta name="twitter:title" property="og:title" itemprop="title name" content="Uninstall, Activate, Deactivate a plugin: typical features &amp; how-to">
    <meta name="twitter:description" property="og:description" itemprop="description" content="I&#39;m making a wordpress plugin. What are typical things I should include in the uninstall feature?

For example, should I delete any tables I created in the install function?

Do I clean up my option ">
    <meta property="og:url" content="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to">
    <link rel="canonical" href="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange.html">

    
    
    <script async="" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/quant.js"></script><script async="" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/beacon.js"></script><script async="" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/analytics.js"></script><script type="text/javascript" async="" src="http://static.adzerk.net/ados.js"></script><script src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/jquery.min.js"></script><style type="text/css"></style>
    <script src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/stub.en.js"></script>
    <link rel="stylesheet" type="text/css" href="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/all.css">
    
    <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;Uninstall, Activate, Deactivate a plugin: typical features &amp; how-to&#39;" href="http://wordpress.stackexchange.com/feeds/question/25910">
    <script>
        
        StackExchange.ready(function () {

            StackExchange.using("postValidation", function () {
                StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
            });

            
            StackExchange.question.init({showAnswerHelp:true,totalCommentCount:2,shownCommentCount:2,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:25910});

            styleCode();

                StackExchange.realtime.subscribeToQuestion('110', '25910');
            
                    });
    </script>


    <script>
        StackExchange.ready(function () {
            StackExchange.realtime.init('wss://qa.sockets.stackexchange.com,ws://qa.sockets.stackexchange.com');
            StackExchange.realtime.subscribeToInboxNotifications();
                    StackExchange.realtime.subscribeToReputationNotifications('110');
                StackExchange.realtime.subscribeToTopBarNotifications('110');
        });
    </script>
    <script>
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","serverTime":1416547955,"networkMetaHostname":"meta.stackexchange.com","routeName":"Questions/Show","styleCode":true,"enableUserHovercards":true,"snippets":{"enabled":false,"domain":"stacksnippets.net"},"site":{"name":"WordPress Development Stack Exchange","description":"Q&A for WordPress developers and administrators","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdsB7sSAAAAAAzjgEF_Hd8vXv-C42sa_KyofaGR","recaptchaAudioLang":"en","enableNewTagCreationWarning":false,"enableSocialMediaInSharePopup":true},"user":{"fkey":"2e6bf91f1e732ac0ab5f2a64606053b1","isAnonymous":true,"ab":{"tutorial_tooltips":{"v":"b","g":1}}}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"3ab25183041d","js/moderator.en.js":"2cf711a1916a","js/full-anon.en.js":"3ba808c1c9c1","js/full.en.js":"362624edfb3d","js/wmd.en.js":"8485e740fee9","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"5bd9031a13ea","js/help.en.js":"637a173e1aa4","js/tageditor.en.js":"9c54855bf167","js/tageditornew.en.js":"de1c21e07128","js/inline-tag-editing.en.js":"21223186b436","js/revisions.en.js":"8e050c5bb5cd","js/review.en.js":"e808c368049e","js/tagsuggestions.en.js":"b278f9a0b23b","js/post-validation.en.js":"ffefc5bc87f1","js/explore-qlist.en.js":"257ba4cb7b04","js/events.en.js":"818abd7293ec","js/keyboard-shortcuts.en.js":"43a9dedd04ab","js/external-editor.en.js":"bc276cc6e2cd"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
        <script>
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
    
    
<script async="" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/full-anon.en.js"></script><script async="" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/post-validation.en.js"></script><script async="" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/prettify-full.en.js"></script></head>
<body class="question-page new-topbar">
    <noscript>&lt;div id="noscript-padding"&gt;&lt;/div&gt;</noscript>
    <div id="notify-container"></div>
    <div id="overlay-header"></div>
    <div id="custom-header"></div>




<div class="topbar">
    <div class="topbar-wrapper">

        <div class="js-topbar-dialog-corral">

<div class="topbar-dialog siteSwitcher-dialog dno">
    <div class="header">
        <h3><a href="http://wordpress.stackexchange.com/">current community</a></h3>
    </div>
    <div class="modal-content current-site-container">
        <ul class="current-site">
                <li>
                        <div class="related-links">
            <a href="http://chat.stackexchange.com/" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:6 })">chat</a>
                    <a href="http://blog.stackexchange.com/" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:7 })">blog</a>
            </div>




    <a href="http://wordpress.stackexchange.com/" class="current-site-link site-link js-gps-track" data-id="110" data-gps-track="
        site_switcher.click({ item_type:3 })">
        <div class="site-icon favicon favicon-wordpress" title="WordPress Development"></div>
        WordPress Development
    </a>

                </li>
                <li class="related-site">
                        <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                    



    <a href="http://meta.wordpress.stackexchange.com/" class="site-link js-gps-track" data-id="112" data-gps-track="
            site.switch({ target_site:112, item_type:3 }),
        site_switcher.click({ item_type:4 })">
        <div class="site-icon favicon favicon-wordpressmeta" title="WordPress Development Meta"></div>
        WordPress Development Meta
    </a>

                </li>
                    </ul>
    </div>
    
    <div class="header" id="your-communities-header">
        <h3>
your communities        </h3>
            
    </div>
    <div class="modal-content" id="your-communities-section">
            
            <div class="call-to-login">
                        <a href="https://wordpress.stackexchange.com/users/signup?returnurl=http%3a%2f%2fwordpress.stackexchange.com%2fquestions%2f25910%2funinstall-activate-deactivate-a-plugin-typical-features-how-to" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:10 })">Sign up</a>
                    or
                    <a href="https://wordpress.stackexchange.com/users/login?returnurl=http%3a%2f%2fwordpress.stackexchange.com%2fquestions%2f25910%2funinstall-activate-deactivate-a-plugin-typical-features-how-to" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:11 })">log in</a>

                    to customize your list.
            </div>
    </div>
    
    <div class="header">
        <h3><a href="http://stackexchange.com/sites">more stack exchange communities</a></h3>
    </div>
    <div class="modal-content">
            <div class="child-content"></div>
    </div>
</div>
        </div>

        <div class="network-items">

            <a href="http://stackexchange.com/" class="topbar-icon icon-site-switcher yes-hover js-site-switcher-button js-gps-track" data-gps-track="site_switcher.show" title="A list of all 131 Stack Exchange sites">
                <span class="hidden-text">Stack Exchange</span>
            </a>

        </div>

        <div class="topbar-links">

                <div class="links-container">
                    <span class="topbar-menu-links">
                            <a href="https://wordpress.stackexchange.com/users/signup?returnurl=http%3a%2f%2fwordpress.stackexchange.com%2fquestions%2f25910%2funinstall-activate-deactivate-a-plugin-typical-features-how-to" class="login-link">sign up</a>
                            <a href="https://wordpress.stackexchange.com/users/login?returnurl=http%3a%2f%2fwordpress.stackexchange.com%2fquestions%2f25910%2funinstall-activate-deactivate-a-plugin-typical-features-how-to" class="login-link">log in</a>
                            <a href="http://wordpress.stackexchange.com/tour">tour</a>

                            <a href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#" class="icon-help js-help-button" title="Help Center and other resources">
        help
        <span class="triangle"></span>
    </a>
    <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="http://wordpress.stackexchange.com/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="http://wordpress.stackexchange.com/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                    <li>
                        <a href="http://meta.wordpress.stackexchange.com/" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                            Meta
                            <span class="item-summary">
                                Discuss the workings and policies of this site
                            </span>
                        </a>
                    </li>
            </ul>
        </div>
    </div>

                    </span>
                </div>

            <div class="search-container">
                <form id="search" action="http://wordpress.stackexchange.com/search" method="get" autocomplete="off">
                    <input name="q" type="text" placeholder="search" value="" tabindex="1" autocomplete="off" maxlength="240">
                </form>
            </div>

        </div>
    </div>
</div>
    <script>
        StackExchange.ready(function() { StackExchange.topbar.init(); });
    </script>

    <div class="container">
        <div id="header">
            <br class="cbt">
            <div id="hlogo">
                <a href="http://wordpress.stackexchange.com/">
                    WordPress Development
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs">
                    <ul>
                        <li class="youarehere"><a id="nav-questions" href="http://wordpress.stackexchange.com/questions">Questions</a></li>
                        <li><a id="nav-tags" href="http://wordpress.stackexchange.com/tags">Tags</a></li>
                        <li><a id="nav-users" href="http://wordpress.stackexchange.com/users">Users</a></li>
                        <li><a id="nav-badges" href="http://wordpress.stackexchange.com/help/badges">Badges</a></li>
                        <li><a id="nav-unanswered" href="http://wordpress.stackexchange.com/unanswered">Unanswered</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion" href="http://wordpress.stackexchange.com/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content">
            

<div itemscope="" itemtype="http://schema.org/Question">
	<link itemprop="image" href="http://cdn.sstatic.net/wordpress/img/apple-touch-icon.png">
			<!--googleoff: all-->

<div id="herobox-mini">
    <div id="hero-content">
        <span id="controls">
            <a href="http://wordpress.stackexchange.com/tour" id="tell-me-more" class="button">Take the 2-minute tour</a>
            <span id="close"><a title="click to dismiss">×</a></span>
        </span>
        <div id="blurb">
            WordPress Development Stack Exchange is a question and answer site for WordPress developers and administrators. It's 100% free, no registration required.
        </div>        
    </div>
    <script>
        $('#tell-me-more').click(function () {
            var clickSource = $("body").attr("class") + '-mini';
            if ($("body").hasClass("questions-page")) {
                clickSource = 'questionpagemini';
            } else if ($("body").hasClass("question-page")) {
                clickSource = 'questionpagemini';
            } else if ($("body").hasClass("home-page")) {
                clickSource = 'homepagemini';
            }

            StackExchange.using("gps", function () {
                StackExchange.gps.track("aboutpage.click", { aboutclick_location: clickSource } , true);
            });
        });
        $('#herobox-mini #close').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: "close" }, true);
            });
            $.cookie("hero", "none", { path: "/", expires: 365 });
            var $hero = $("#herobox-mini");
            $hero.slideUp('fast', function () { $hero.remove(); });
            return false;
        });
    </script>
</div>
			<!--googleon: all-->
			<div id="question-header">
			<h1 itemprop="name"><a href="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange.html" class="question-hyperlink">Uninstall, Activate, Deactivate a plugin: typical features &amp; how-to</a></h1>
		</div>
			<div id="mainbar">

			

<div class="question" data-questionid="25910" id="question">

    <script>
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,0,"adzerk1249903375",4).enableDynamicSiteSelection().setZone(29) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1249903375">
            </div>    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="25910">
    <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
    <span itemprop="upvoteCount" class="vote-count-post ">44</span>
    <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>
    
    <a class="star-off" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#" title="This is a favorite question (click again to undo)">favorite</a>
    <div class="favoritecount"><b>55</b></div>   

</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="text">

        <p>I'm making a wordpress plugin. What are typical things I should include in the uninstall feature?</p>

<p>For example, should I delete any tables I created in the install function?</p>

<p>Do I clean up my option entries?</p>

<p>Anything else?</p>

    </div>
    <div class="post-taglist">
        <a href="http://wordpress.stackexchange.com/questions/tagged/plugins" class="post-tag js-gps-track" title="show questions tagged &#39;plugins&#39;" rel="tag">plugins</a> <a href="http://wordpress.stackexchange.com/questions/tagged/activation" class="post-tag js-gps-track" title="show questions tagged &#39;activation&#39;" rel="tag">activation</a> <a href="http://wordpress.stackexchange.com/questions/tagged/uninstallation" class="post-tag js-gps-track" title="show questions tagged &#39;uninstallation&#39;" rel="tag">uninstallation</a> <a href="http://wordpress.stackexchange.com/questions/tagged/deactivation" class="post-tag js-gps-track" title="show questions tagged &#39;deactivation&#39;" rel="tag">deactivation</a> 
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://wordpress.stackexchange.com/q/25910" title="short permalink to this question" class="short-link" id="link-post-25910">share</a><span class="lsep">|</span><a href="http://wordpress.stackexchange.com/posts/25910/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="http://wordpress.stackexchange.com/posts/25910/revisions" title="show all edits to this post">edited <span title="2011-08-21 14:57:20Z" class="relativetime">Aug 21 '11 at 14:57</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="http://wordpress.stackexchange.com/users/385/kaiser"><div class="gravatar-wrapper-32"><img src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/07982d6dd5227400863834231aa0e390" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://wordpress.stackexchange.com/users/385/kaiser">kaiser</a><span class="mod-flair" title="moderator">♦</span><br>
        <span class="reputation-score" title="reputation score 30643" dir="ltr">30.6k</span><span title="5 gold badges"><span class="badge1"></span><span class="badgecount">5</span></span><span title="66 silver badges"><span class="badge2"></span><span class="badgecount">66</span></span><span title="121 bronze badges"><span class="badge3"></span><span class="badgecount">121</span></span>
    </div>
</div>    </td>
    <td class="post-signature owner">
        <div class="user-info ">
    <div class="user-action-time">
        asked <span title="2011-08-14 23:21:36Z" class="relativetime">Aug 14 '11 at 23:21</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://wordpress.stackexchange.com/users/2417/redconservatory"><div class="gravatar-wrapper-32"><img src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/be528e6ffa1cab6c5e0f7ab9157e6f2d" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://wordpress.stackexchange.com/users/2417/redconservatory">redconservatory</a><br>
        <span class="reputation-score" title="reputation score " dir="ltr">684</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="8 silver badges"><span class="badge2"></span><span class="badgecount">8</span></span><span title="25 bronze badges"><span class="badge3"></span><span class="badgecount">25</span></span>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</div>
</td>
        </tr>
                
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-25910" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-129437" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I wasted so much time trying to get it working. The problem is that init hook not working inside of registering hooks. I suppose that not one hook (action or filter) will not work so early. Read the notes by link below. <a href="http://codex.wordpress.org/Function_Reference/register_activation_hook" rel="nofollow">codex.wordpress.org/Function_Reference/register_activation_hook</a> It says: "Registering the hook inside your plugins_loaded hook is too late and it won't run! (Even when it seems to work for register_deactivation_hook until the wp_loaded hook.)"</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/10140/anton" title="41 reputation" class="comment-user">Anton</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment129437_25910"><span title="2011-11-09 12:43:50Z" class="relativetime-clean">Nov 9 '11 at 12:43</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-129438" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I'm the one who updated the codex to what you mentioned, so this is considered in the above ↑ answer. :)</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/385/kaiser" title="30643 reputation" class="comment-user">kaiser<span class="mod-flair" title="moderator">♦</span></a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment129438_25910"><span title="2012-02-28 00:00:19Z" class="relativetime-clean">Feb 28 '12 at 0:00</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>
            <div id="comments-link-25910" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span><a class="js-show-link comments-link dno" title="expand to show all comments on this post, or add one of your own" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#" onclick=""></a>
            </div>
    </td>
</tr>        </tbody></table>
</div>

			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								2 Answers
                                <span style="display:none;" itemprop="answerCount">2</span>
						</h2>
						<div>
							<div id="tabs">
        <a href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to?answertab=active#tab-top" title="Answers with the latest activity first">active</a>
        <a href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to?answertab=oldest#tab-top" title="Answers in the order they were provided">oldest</a>
        <a class="youarehere" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to?answertab=votes#tab-top" title="Answers with the highest score first">votes</a>
</div>
						</div>
					</div>    
				</div>    




  
<a name="25979"></a>
<div id="answer-25979" class="answer accepted-answer" data-answerid="25979" itemscope="" itemtype="http://schema.org/Answer" itemprop="acceptedAnswer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="25979">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span itemprop="upvoteCount" class="vote-count-post ">78</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>
</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<h1>There are three <em>different</em> hooks. They trigger in the following cases:</h1>

<ul>
<li>Uninstall</li>
<li>Deactivation</li>
<li>Activation</li>
</ul>

<h1>How-to trigger functions safely during the scenarios</h1>

<p>The following shows the <em>right</em> ways to safely hook callback functions that get triggered during the mentioned actions.</p>

<p>As you could use this code in a plugin that uses</p>

<ul>
<li>plain functions,</li>
<li>a class or</li>
<li>an external class,</li>
</ul>

<p>I'll show three different <strong>demo plugins</strong> that you can inspect and then later on implement the code in your own plugin(s).</p>

<h1>Important note upfront!</h1>

<p>As this topic is extremely difficult and very detailed and has a dozen+ edge cases, this answer will never be perfect. I'll keep improving it over time, so check back on a regular base.</p>

<h1>(1) Activate/Deactivate/Uninstall plugins.</h1>

<p>The plugin setup callbacks are triggered by core and you have <em>no</em> influence on how core does this. There're some things to keep in mind:</p>

<ul>
<li><strong>Never</strong>, ever <code>echo/print</code> anything(!) during setup callbacks. This will lead to <code>headers already sent</code> message and core will recommend to deactivate and delete your plugin... don't ask: I know...</li>
<li>You won't <em>see</em> any visual output. <em>But</em> I added <code>exit()</code> statements to all different callbacks so you can get some insights on what is really happening. Just uncomment them to see stuff working.</li>
<li>It's extremely important that you check if <code>__FILE__ != WP_PLUGIN_INSTALL</code> and (if not: abort!) to see if one is really uninstalling the plugin. I'd recommend to simply trigger <code>on_deactivation()</code> callbacks during development, so you save yourself the time that you'd need to get everything back in. At least this is what I do.</li>
<li>I as well do some security stuff. Some is done by core as well, but hey! <em>Better safe than sorry!</em>.
<ul>
<li>First I disallow direct file access when core isn't loaded: <code>defined( 'ABSPATH' ) OR exit;</code></li>
<li>Then I check if the current user is allowed to do this task.</li>
<li>As a last task, I check the referrer. Note: There can be unexpected results with a <code>wp_die()</code> screen asking for proper permissions (and if you want to try again ... <em>yeah, sure</em>), when you got an error. This happens as core redirects you, sets the current <code>$GLOBALS['wp_list_table']-&gt;current_action();</code> to <code>error_scrape</code> and then checks the referrer for <code>check_admin_referer('plugin-activation-error_' . $plugin);</code>, where <code>$plugin</code> is <code>$_REQUEST['plugin']</code>. So the redirect happens at half the page load and you get this wired scroll bar and the die screen insight the yellow admin notice/message box. If this happens: Stay calm and just search for the error with some <code>exit()</code> and step-by-step debugging.</li>
</ul></li>
</ul>

<h2>(A) Plain functions plugin</h2>

<p>Remember that this might not work if you hook the callbacks before the function definition.</p>

<pre class="default prettyprint prettyprinted"><code><span class="pun">&lt;?</span><span class="pln">php
</span><span class="kwd">defined</span><span class="pun">(</span><span class="pln"> </span><span class="str">'ABSPATH'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> OR </span><span class="kwd">exit</span><span class="pun">;</span><span class="pln">
</span><span class="com">/**
 * Plugin Name: (WCM) Activate/Deactivate/Uninstall - Functions
 * Description: Example Plugin to show activation/deactivation/uninstall callbacks for plain functions.
 * Author:      Franz Josef Kaiser/wecodemore
 * Author URL:  http://unserkaiser.com
 * Plugin URL:  http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to/25979#25979
 */</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> WCM_Setup_Demo_on_activation</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
    $plugin </span><span class="pun">=</span><span class="pln"> isset</span><span class="pun">(</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
    check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">"activate-plugin_{$plugin}"</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

    </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
    </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> WCM_Setup_Demo_on_deactivation</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
    $plugin </span><span class="pun">=</span><span class="pln"> isset</span><span class="pun">(</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
    check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">"deactivate-plugin_{$plugin}"</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

    </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
    </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> WCM_Setup_Demo_on_uninstall</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
    check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">'bulk-plugins'</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Important: Check if the file is the one</span><span class="pln">
    </span><span class="com">// that was registered during the uninstall hook.</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> __FILE__ </span><span class="pun">!=</span><span class="pln"> WP_UNINSTALL_PLUGIN </span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">

    </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
    </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

register_activation_hook</span><span class="pun">(</span><span class="pln">   __FILE__</span><span class="pun">,</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_on_activation'</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
register_deactivation_hook</span><span class="pun">(</span><span class="pln"> __FILE__</span><span class="pun">,</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_on_deactivation'</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
register_uninstall_hook</span><span class="pun">(</span><span class="pln">    __FILE__</span><span class="pun">,</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_on_uninstall'</span><span class="pln"> </span><span class="pun">);</span></code></pre>

<h2>(B) A class based/OOP architecture</h2>

<p>This is the most common example in nowadays plugins.</p>

<pre class="default prettyprint prettyprinted"><code><span class="pun">&lt;?</span><span class="pln">php
</span><span class="kwd">defined</span><span class="pun">(</span><span class="pln"> </span><span class="str">'ABSPATH'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> OR </span><span class="kwd">exit</span><span class="pun">;</span><span class="pln">
</span><span class="com">/**
 * Plugin Name: (WCM) Activate/Deactivate/Uninstall - CLASS
 * Description: Example Plugin to show activation/deactivation/uninstall callbacks for classes/objects.
 * Author:      Franz Josef Kaiser/wecodemore
 * Author URL:  http://unserkaiser.com
 * Plugin URL:  http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to/25979#25979
 */</span><span class="pln">


register_activation_hook</span><span class="pun">(</span><span class="pln">   __FILE__</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_Class'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'on_activation'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
register_deactivation_hook</span><span class="pun">(</span><span class="pln"> __FILE__</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_Class'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'on_deactivation'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
register_uninstall_hook</span><span class="pun">(</span><span class="pln">    __FILE__</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_Class'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'on_uninstall'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

add_action</span><span class="pun">(</span><span class="pln"> </span><span class="str">'plugins_loaded'</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_Class'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'init'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> WCM_Setup_Demo_Class
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> $instance</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> init</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        is_null</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">::</span><span class="pln">$instance </span><span class="pun">)</span><span class="pln"> AND </span><span class="kwd">self</span><span class="pun">::</span><span class="pln">$instance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">::</span><span class="pln">$instance</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> on_activation</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        $plugin </span><span class="pun">=</span><span class="pln"> isset</span><span class="pun">(</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
        check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">"activate-plugin_{$plugin}"</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

        </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
        </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> on_deactivation</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        $plugin </span><span class="pun">=</span><span class="pln"> isset</span><span class="pun">(</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
        check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">"deactivate-plugin_{$plugin}"</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

        </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
        </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> on_uninstall</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">'bulk-plugins'</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

        </span><span class="com">// Important: Check if the file is the one</span><span class="pln">
        </span><span class="com">// that was registered during the uninstall hook.</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> __FILE__ </span><span class="pun">!=</span><span class="pln"> WP_UNINSTALL_PLUGIN </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">

        </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
        </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> __construct</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="com"># INIT the plugin: Hook your callbacks</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<h2>(C) A class based/OOP architecture with an external setup object</h2>

<p>This scenario assumes that you got a main plugin file and a second file named <code>setup.php</code> in a subdirectory of the plugin named <code>inc</code>: <code>~/wp-content/plugins/your_plugin/inc/setup.php</code>. This will work as well when the plugin folder is outside the default WP folder structure, as well when the content dir is renamed or in cases where your setup file is named different. Only the <code>inc</code> folder has to have the same name &amp; location relative from the plugins root directory.</p>

<p><em>Note: You can simply take the three <code>register_*_hook()*</code> functions and the classes and drop them into your plugin.</em></p>

<p>The main plugin file:</p>

<pre class="default prettyprint prettyprinted"><code><span class="pun">&lt;?</span><span class="pln">php
</span><span class="kwd">defined</span><span class="pun">(</span><span class="pln"> </span><span class="str">'ABSPATH'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> OR </span><span class="kwd">exit</span><span class="pun">;</span><span class="pln">
</span><span class="com">/**
 * Plugin Name: (WCM) Activate/Deactivate/Uninstall - FILE/CLASS
 * Description: Example Plugin
 * Author:      Franz Josef Kaiser/wecodemore
 * Author URL:  http://unserkaiser.com
 * Plugin URL:  http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to/25979#25979
 */</span><span class="pln">


register_activation_hook</span><span class="pun">(</span><span class="pln">   __FILE__</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_File_Inc'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'on_activation'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
register_deactivation_hook</span><span class="pun">(</span><span class="pln"> __FILE__</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_File_Inc'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'on_deactivation'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
register_uninstall_hook</span><span class="pun">(</span><span class="pln">    __FILE__</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_File_Inc'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'on_uninstall'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

add_action</span><span class="pun">(</span><span class="pln"> </span><span class="str">'plugins_loaded'</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> </span><span class="str">'WCM_Setup_Demo_File'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'init'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> WCM_Setup_Demo_File
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> $instance</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> init</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        is_null</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">::</span><span class="pln">$instance </span><span class="pun">)</span><span class="pln"> AND </span><span class="kwd">self</span><span class="pun">::</span><span class="pln">$instance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">::</span><span class="pln">$instance</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> __construct</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        add_action</span><span class="pun">(</span><span class="pln"> current_filter</span><span class="pun">(),</span><span class="pln"> array</span><span class="pun">(</span><span class="pln"> $this</span><span class="pun">,</span><span class="pln"> </span><span class="str">'load_files'</span><span class="pln"> </span><span class="pun">),</span><span class="pln"> </span><span class="lit">30</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> load_files</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">foreach</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> glob</span><span class="pun">(</span><span class="pln"> plugin_dir_path</span><span class="pun">(</span><span class="pln"> __FILE__ </span><span class="pun">).</span><span class="str">'inc/*.php'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> $file </span><span class="pun">)</span><span class="pln">
            include_once $file</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>The setup file:</p>

<pre class="default prettyprint prettyprinted"><code><span class="pun">&lt;?</span><span class="pln">php
</span><span class="kwd">defined</span><span class="pun">(</span><span class="pln"> </span><span class="str">'ABSPATH'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> OR </span><span class="kwd">exit</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> WCM_Setup_Demo_File_Inc
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> on_activation</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        $plugin </span><span class="pun">=</span><span class="pln"> isset</span><span class="pun">(</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
        check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">"activate-plugin_{$plugin}"</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

        </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
        </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> on_deactivation</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        $plugin </span><span class="pun">=</span><span class="pln"> isset</span><span class="pun">(</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $_REQUEST</span><span class="pun">[</span><span class="str">'plugin'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
        check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">"deactivate-plugin_{$plugin}"</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

        </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
        </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> on_uninstall</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> current_user_can</span><span class="pun">(</span><span class="pln"> </span><span class="str">'activate_plugins'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        check_admin_referer</span><span class="pun">(</span><span class="pln"> </span><span class="str">'bulk-plugins'</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

        </span><span class="com">// Important: Check if the file is the one</span><span class="pln">
        </span><span class="com">// that was registered during the uninstall hook.</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> __FILE__ </span><span class="pun">!=</span><span class="pln"> WP_UNINSTALL_PLUGIN </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">

        </span><span class="com"># Uncomment the following line to see the function in action</span><span class="pln">
        </span><span class="com"># exit( var_dump( $_GET ) );</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<h2>(2) Plugin updates</h2>

<p>If you write a plugin that has its own DB table or options, there might be scenarios where you need to change or upgrade things.</p>

<p>Sadly so far there's no possibility to run something on plugin/theme install or update/upgrade. Gladly there's a work-around: Hook a custom function to a custom option (yea, it's lame - but it works).</p>

<pre class="default prettyprint prettyprinted"><code><span class="kwd">function</span><span class="pln"> prefix_upgrade_plugin</span><span class="pun">()</span><span class="pln"> 
</span><span class="pun">{</span><span class="pln">
    $v </span><span class="pun">=</span><span class="pln"> </span><span class="str">'plugin_db_version'</span><span class="pun">;</span><span class="pln">
    $update_option </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// Upgrade to version 2</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> get_option</span><span class="pun">(</span><span class="pln"> $v </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> 
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> get_option</span><span class="pun">(</span><span class="pln"> $v </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// Callback function must return true on success</span><span class="pln">
            $update_option </span><span class="pun">=</span><span class="pln"> custom_upgrade_cb_fn_v3</span><span class="pun">();</span><span class="pln">

            </span><span class="com">// Only update option if it was an success</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> $update_option </span><span class="pun">)</span><span class="pln">
                update_option</span><span class="pun">(</span><span class="pln"> $v</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Upgrade to version 3, runs just after upgrade to version 2</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> get_option</span><span class="pun">(</span><span class="pln"> $v </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> 
    </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// re-run from beginning if previous update failed</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> get_option</span><span class="pun">(</span><span class="pln"> $v </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> prefix_upgrade_plugin</span><span class="pun">();</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> get_option</span><span class="pun">(</span><span class="pln"> $v </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// Callback function must return true on success</span><span class="pln">
            $update_option </span><span class="pun">=</span><span class="pln"> custom_upgrade_cb_fn_v3</span><span class="pun">();</span><span class="pln">

            </span><span class="com">// Only update option if it was an success</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> $update_option </span><span class="pun">)</span><span class="pln">
                update_option</span><span class="pun">(</span><span class="pln"> $v</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Return the result from the update cb fn, so we can test for success/fail/error</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> $update_option </span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> $update_option</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
add_action</span><span class="pun">(</span><span class="str">'admin_init'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'prefix_upgrade_plugin'</span><span class="pln"> </span><span class="pun">);</span></code></pre>

<p><sup><a href="http://lists.automattic.com/pipermail/wp-hackers/2011-December/041917.html">Source</a></sup></p>

<p>This update function is a not-so-nice/well-written example, but as said: It's an example and the technique works well. Will improve that with a later update.</p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://wordpress.stackexchange.com/a/25979" title="short permalink to this answer" class="short-link" id="link-post-25979">share</a><span class="lsep">|</span><a href="http://wordpress.stackexchange.com/posts/25979/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="http://wordpress.stackexchange.com/posts/25979/revisions" title="show all edits to this post">edited <span title="2013-05-09 15:16:58Z" class="relativetime">May 9 '13 at 15:16</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        <br>
        
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2011-08-15 18:18:05Z" class="relativetime">Aug 15 '11 at 18:18</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://wordpress.stackexchange.com/users/385/kaiser"><div class="gravatar-wrapper-32"><img src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/07982d6dd5227400863834231aa0e390" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://wordpress.stackexchange.com/users/385/kaiser">kaiser</a><span class="mod-flair" title="moderator">♦</span><br>
        <span class="reputation-score" title="reputation score 30643" dir="ltr">30.6k</span><span title="5 gold badges"><span class="badge1"></span><span class="badgecount">5</span></span><span title="66 silver badges"><span class="badge2"></span><span class="badgecount">66</span></span><span title="121 bronze badges"><span class="badge3"></span><span class="badgecount">121</span></span>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-25979" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="13" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-33822" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">This is great BUT what I really want to know are things that I should include in my deactivation method...for example, should I delete my tables in the database or leave them in case the user changes their mind and re-activates the plugin?</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/2417/redconservatory" title="684 reputation" class="comment-user owner">redconservatory</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment33822_25979"><span title="2011-08-15 21:25:01Z" class="relativetime-clean">Aug 15 '11 at 21:25</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-33828" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Ad "BUT": I mentioned that there are 3 methods. One for activation, one for temporary deactivation and one for unstall. Imho "uninstall" says "Remove me and everything I did", while "deactivate" is a temporary state and might be redone. But: See update. I added comments about your Q + extended it with some development recommendations.</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/385/kaiser" title="30643 reputation" class="comment-user">kaiser<span class="mod-flair" title="moderator">♦</span></a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment33828_25979"><span title="2011-08-15 21:55:23Z" class="relativetime-clean">Aug 15 '11 at 21:55</span></a></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-33953" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Ah I understand now. Just a question, when does uninstalled get called? When the files are deleted??</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/2417/redconservatory" title="684 reputation" class="comment-user owner">redconservatory</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment33953_25979"><span title="2011-08-16 22:40:41Z" class="relativetime-clean">Aug 16 '11 at 22:40</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-34010" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Hm. Good Q. <code>plugin.php</code> is the file that holds <code>register_uninstall_hook</code> &amp; gets loaded with the early files in wp-settings.php (which is the main file to <i>always</i> look at). I update the Q with the docblocks from core.</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/385/kaiser" title="30643 reputation" class="comment-user">kaiser<span class="mod-flair" title="moderator">♦</span></a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment34010_25979"><span title="2011-08-17 08:14:20Z" class="relativetime-clean">Aug 17 '11 at 8:14</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-227509" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@aendrew They are only used in side <a href="http://queryposts.com/function/check_admin_referer/" rel="nofollow"><code>check_admin_referer()</code></a>. They don't need to get sanitized because core doesn't do it itself and would anyway compare it against unsanitized <code>$_REQUEST</code> values. But if they start crying like little girls because of that, just use <a href="http://www.php.net/manual/en/function.filter-var.php" rel="nofollow"><code>filter_var()</code></a> or <a href="http://queryposts.com/function/esc_attr/" rel="nofollow"><code>esc_attr()</code></a> on it.</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/385/kaiser" title="30643 reputation" class="comment-user">kaiser<span class="mod-flair" title="moderator">♦</span></a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment227509_25979"><span title="2014-08-14 01:09:14Z" class="relativetime-clean">Aug 14 at 1:09</span></a></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>
            <div id="comments-link-25979" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link  dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span><a class="js-show-link comments-link " title="expand to show all comments on this post, or add one of your own" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#" onclick="">show <b>13</b> more comments</a>
            </div>
    </td>
</tr>    </tbody></table>
</div>
<script>
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,0,"adzerk1587076773",4).enableDynamicSiteSelection().setZone(30) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1587076773">
            </div>
  
<a name="95183"></a>
<div id="answer-95183" class="answer" data-answerid="95183" itemscope="" itemtype="http://schema.org/Answer">
    <table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
    <input type="hidden" name="_id_" value="95183">
    <a class="vote-up-off" title="This answer is useful">up vote</a>
    <span itemprop="upvoteCount" class="vote-count-post ">10</span>
    <a class="vote-down-off" title="This answer is not useful">down vote</a>
    


</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>To test the current system for required featurs like PHP version or installed extensions you can use something like that:</p>

<pre class="default prettyprint prettyprinted"><code><span class="pun">&lt;?</span><span class="pln">php  </span><span class="com"># -*- coding: utf-8 -*-</span><span class="pln">
</span><span class="com">/**
 * Plugin Name: T5 Check Plugin Requirements
 * Description: Test for PHP version and installed extensions
 * Plugin URI:
 * Version:     2013.03.31
 * Author:      Thomas Scholz
 * Author URI:  http://toscho.de
 * Licence:     MIT
 * License URI: http://opensource.org/licenses/MIT
 */</span><span class="pln">

</span><span class="com">/*
 * Don't start on every page, the plugin page is enough.
 */</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> empty </span><span class="pun">(</span><span class="pln"> $GLOBALS</span><span class="pun">[</span><span class="str">'pagenow'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="str">'plugins.php'</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> $GLOBALS</span><span class="pun">[</span><span class="str">'pagenow'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
    add_action</span><span class="pun">(</span><span class="pln"> </span><span class="str">'admin_notices'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'t5_check_admin_notices'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * Test current system for the features the plugin needs.
 *
 * @return array Errors or empty array
 */</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> t5_check_plugin_requirements</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    $php_min_version </span><span class="pun">=</span><span class="pln"> </span><span class="str">'5.4'</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// see http://www.php.net/manual/en/extensions.alphabetical.php</span><span class="pln">
    $extensions </span><span class="pun">=</span><span class="pln"> array </span><span class="pun">(</span><span class="pln">
        </span><span class="str">'iconv'</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'mbstring'</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'id3'</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
    $errors </span><span class="pun">=</span><span class="pln"> array </span><span class="pun">();</span><span class="pln">

    $php_current_version </span><span class="pun">=</span><span class="pln"> phpversion</span><span class="pun">();</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> version_compare</span><span class="pun">(</span><span class="pln"> $php_min_version</span><span class="pun">,</span><span class="pln"> $php_current_version</span><span class="pun">,</span><span class="pln"> </span><span class="str">'&gt;'</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
        $errors</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Your server is running PHP version $php_current_version but
            this plugin requires at least PHP $php_min_version. Please run an upgrade."</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">foreach</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> $extensions </span><span class="kwd">as</span><span class="pln"> $extension </span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> extension_loaded</span><span class="pun">(</span><span class="pln"> $extension </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
            $errors</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Please install the extension $extension to run this plugin."</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> $errors</span><span class="pun">;</span><span class="pln">

</span><span class="pun">}</span><span class="pln">

</span><span class="com">/**
 * Call t5_check_plugin_requirements() and deactivate this plugin if there are error.
 *
 * @wp-hook admin_notices
 * @return  void
 */</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> t5_check_admin_notices</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    $errors </span><span class="pun">=</span><span class="pln"> t5_check_plugin_requirements</span><span class="pun">();</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> empty </span><span class="pun">(</span><span class="pln"> $errors </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Suppress "Plugin activated" notice.</span><span class="pln">
    unset</span><span class="pun">(</span><span class="pln"> $_GET</span><span class="pun">[</span><span class="str">'activate'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

    </span><span class="com">// this plugin's name</span><span class="pln">
    $name </span><span class="pun">=</span><span class="pln"> get_file_data</span><span class="pun">(</span><span class="pln"> __FILE__</span><span class="pun">,</span><span class="pln"> array </span><span class="pun">(</span><span class="pln"> </span><span class="str">'Plugin Name'</span><span class="pln"> </span><span class="pun">),</span><span class="pln"> </span><span class="str">'plugin'</span><span class="pln"> </span><span class="pun">);</span><span class="pln">

    printf</span><span class="pun">(</span><span class="pln">
        </span><span class="str">'&lt;div class="error"&gt;&lt;p&gt;%1$s&lt;/p&gt;
        &lt;p&gt;&lt;i&gt;%2$s&lt;/i&gt; has been deactivated.&lt;/p&gt;&lt;/div&gt;'</span><span class="pun">,</span><span class="pln">
        join</span><span class="pun">(</span><span class="pln"> </span><span class="str">'&lt;/p&gt;&lt;p&gt;'</span><span class="pun">,</span><span class="pln"> $errors </span><span class="pun">),</span><span class="pln">
        $name</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
    deactivate_plugins</span><span class="pun">(</span><span class="pln"> plugin_basename</span><span class="pun">(</span><span class="pln"> __FILE__ </span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Test with a check for PHP 5.5:</p>

<p><img src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/nShhk.png" alt="enter image description here"></p>
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://wordpress.stackexchange.com/a/95183" title="short permalink to this answer" class="short-link" id="link-post-95183">share</a><span class="lsep">|</span><a href="http://wordpress.stackexchange.com/posts/95183/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-04-09 18:45:04Z" class="relativetime">Apr 9 '13 at 18:45</span>
    </div>
    <div class="user-gravatar32">
        <a href="http://wordpress.stackexchange.com/users/73/toscho"><div class="gravatar-wrapper-32"><img src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/e2fe56c959752e5a5b6e2635fa9fb0d1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="http://wordpress.stackexchange.com/users/73/toscho">toscho</a><span class="mod-flair" title="moderator">♦</span><br>
        <span class="reputation-score" title="reputation score 64826" dir="ltr">64.8k</span><span title="9 gold badges"><span class="badge1"></span><span class="badgecount">9</span></span><span title="84 silver badges"><span class="badge2"></span><span class="badgecount">84</span></span><span title="198 bronze badges"><span class="badge3"></span><span class="badgecount">198</span></span>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-95183" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="1" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-151052" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Touch confused, so basically there isn't a call to <code>register_activation_hook</code> here -- why not use it? Also will this fire before or after <code>register_activation_hook</code> and will <code>register_activation_hook</code> fire even if the above doesn't pass?</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/13551/orionrush" title="106 reputation" class="comment-user">orionrush</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment151052_95183"><span title="2013-07-31 12:52:24Z" class="relativetime-clean">Jul 31 '13 at 12:52</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-151053" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">It runs after the activation hook on the plugin page only.</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/73/toscho" title="64826 reputation" class="comment-user">toscho<span class="mod-flair" title="moderator">♦</span></a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment151053_95183"><span title="2013-07-31 12:54:36Z" class="relativetime-clean">Jul 31 '13 at 12:54</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-151055" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I see - but if the plugin is activated outside the plugin page (say as part of a theme dependency) then your checks will get skipped no? So I tried moving <code>add_action( 'admin_notices', 't5_check_admin_notices', 0 );</code> into an activation hook and the plugin activates without performing the checks . . .</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/13551/orionrush" title="106 reputation" class="comment-user">orionrush</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment151055_95183"><span title="2013-07-31 13:30:41Z" class="relativetime-clean">Jul 31 '13 at 13:30</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-151058" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@kaiser has explained how the activation hook works, I wanted to show an alternative. If the plugin is not activated per plugin page a fatal error might happen, yes. This approach cannot work on an activation hook without serious rewrite, because that hook fires after <code>admin_notices</code>.</span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/73/toscho" title="64826 reputation" class="comment-user">toscho<span class="mod-flair" title="moderator">♦</span></a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment151058_95183"><span title="2013-07-31 13:46:13Z" class="relativetime-clean">Jul 31 '13 at 13:46</span></a></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-151059" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Actually just stumbled on the easy way: <a href="http://stackoverflow.com/a/13927297/362445">stackoverflow.com/a/13927297/362445</a></span>
                –&nbsp;
                    <a href="http://wordpress.stackexchange.com/users/13551/orionrush" title="106 reputation" class="comment-user">orionrush</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#comment151059_95183"><span title="2013-07-31 13:50:02Z" class="relativetime-clean">Jul 31 '13 at 13:50</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>
            <div id="comments-link-95183" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link  dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span><a class="js-show-link comments-link " title="expand to show all comments on this post, or add one of your own" href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to#" onclick="">show <b>1</b> more comment</a>
            </div>
    </td>
</tr>    </tbody></table>
</div>
				        <div class="question-status">
        <h2>                    <b>protected</b> by <a href="http://wordpress.stackexchange.com/users/385/kaiser">kaiser</a><span class="mod-flair" title="moderator">♦</span> <span dir="ltr"><span title="2013-02-11 19:23:57Z" class="relativetime">Feb 11 '13 at 19:23</span></span>
</h2>
        <p>
Thank you for your interest in this question.   Because it has attracted low-quality answers, posting an answer now requires 10 <a href="http://wordpress.stackexchange.com/help/whats-reputation">reputation</a> on this site.  <br><br>  Would you like to answer one of these <a href="http://wordpress.stackexchange.com/unanswered?fromProtectedNotice=true">unanswered questions</a> instead?  </p>
    </div>




						<h2 class="bottom-notice" data-loc="1">
Not the answer you're looking for?							Browse other questions tagged <a href="http://wordpress.stackexchange.com/questions/tagged/plugins" class="post-tag" title="show questions tagged &#39;plugins&#39;" rel="tag">plugins</a> <a href="http://wordpress.stackexchange.com/questions/tagged/activation" class="post-tag" title="show questions tagged &#39;activation&#39;" rel="tag">activation</a> <a href="http://wordpress.stackexchange.com/questions/tagged/uninstallation" class="post-tag" title="show questions tagged &#39;uninstallation&#39;" rel="tag">uninstallation</a> <a href="http://wordpress.stackexchange.com/questions/tagged/deactivation" class="post-tag" title="show questions tagged &#39;deactivation&#39;" rel="tag">deactivation</a>  or <a href="http://wordpress.stackexchange.com/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes">
						    <div class="module question-stats">
			        <table id="qinfo">
			            <tbody><tr>
			                <td>
			                    <p class="label-key">asked</p>
			                </td>
			                <td style="padding-left: 10px">
			                    <p class="label-key" title="2011-08-14 23:21:36Z"><b>3 years ago</b></p>
			                </td>
			            </tr>
			            <tr>
			                <td>
			                    <p class="label-key">viewed</p>
			                </td>

			                <td style="padding-left: 10px">
			                    <p class="label-key">
			                        <b>25394 times</b>
			                    </p>
			                </td>
			            </tr>
			                <tr>
			                    <td>
			                        <p class="label-key">active</p>
			                    </td>
			                    <td style="padding-left: 10px">
			                        <p class="label-key"><b><a href="http://wordpress.stackexchange.com/questions/25910/uninstall-activate-deactivate-a-plugin-typical-features-how-to?lastactivity" class="lastactivity-link" title="2013-05-09 15:16:58Z">1 year ago</a></b></p>
			                    </td>
			                </tr>
			        </tbody></table>
			    </div>
						
			<script>
                var ados = ados || {};ados.run = ados.run || [];
                ados.run.push(function() { ados_add_placement(22,0,"adzerk628926399",17).enableDynamicSiteSelection().setZone(56016) ; });                    
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk628926399">
            </div>
			  
    
            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">
<div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/715?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">88</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/715/objective-best-practices-for-plugin-development?lq=1" class="question-hyperlink">Objective Best Practices for Plugin Development?</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/35165?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">7</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/35165/how-do-i-create-a-custom-role-capability?lq=1" class="question-hyperlink">How do I create a custom role capability?</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/60957?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">3</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/60957/what-causes-the-are-you-sure-you-want-to-do-this-error-with-plugins?lq=1" class="question-hyperlink">What causes the “Are you sure you want to do this?” error with plugins?</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/26468?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">1</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/26468/problem-creating-a-table-with-dbdelta?lq=1" class="question-hyperlink">Problem creating a table with dbDelta</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/65190?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">3</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/65190/show-a-confirm-message-before-plug-in-activation?lq=1" class="question-hyperlink">Show a confirm message before plug-in activation</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/139580?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">4</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/139580/changing-the-plugin-activated-message-default?lq=1" class="question-hyperlink">Changing the “Plugin Activated” Message Default</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/65611?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">4</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/65611/popup-asking-whether-data-should-be-removed-on-plugin-uninstall?lq=1" class="question-hyperlink">Popup asking whether data should be removed on plugin uninstall</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/37857?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">2</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/37857/how-to-delete-terms-on-plugin-deactivate?lq=1" class="question-hyperlink">How to delete terms on plugin deactivate?</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/80350?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">5</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/80350/uninstall-script-for-a-plugin-in-multisite?lq=1" class="question-hyperlink">Uninstall script for a plugin in Multisite</a>
</div><div class="spacer">
	<a href="http://wordpress.stackexchange.com/q/69408?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted default">1</div>
	</a>
	<a href="http://wordpress.stackexchange.com/questions/69408/save-plugin-version-number-as-option?lq=1" class="question-hyperlink">Save Plugin Version Number as Option?</a>
</div>					<div class="spacer more">
				<a href="http://wordpress.stackexchange.com/questions/linked/25910?lq=1">see more linked questions…</a>
			</div>
	</div>
</div>

				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/1643?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">2
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/1643/plugin-uninstall-why-run-dbdelta-after-wpdb-querydrop-sql?rq=1" class="question-hyperlink">Plugin uninstall: why run dbDelta after $wpdb-&gt;query($drop_sql)</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/29603?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">0
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/29603/do-you-clean-up-your-self-written-plugins-at-deactivation?rq=1" class="question-hyperlink">Do you clean up your self-written plugins' at deactivation?</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/33216?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">2
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/33216/plugin-uninstall-and-deactivate-via-options-menu?rq=1" class="question-hyperlink">Plugin Uninstall and Deactivate via Options Menu</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/61057?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">0
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/61057/why-my-plugin-keeps-deactivating-automatically?rq=1" class="question-hyperlink">Why my Plugin keeps deactivating automatically?</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/65611?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">4
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/65611/popup-asking-whether-data-should-be-removed-on-plugin-uninstall?rq=1" class="question-hyperlink">Popup asking whether data should be removed on plugin uninstall</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/100760?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">1
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/100760/how-does-uninstalling-wordpress-plugins-work?rq=1" class="question-hyperlink">How does uninstalling WordPress plugins work?</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/125430?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">1
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/125430/custom-message-on-plugin-uninstall?rq=1" class="question-hyperlink">Custom message on plugin uninstall</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/134429?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes answered-accepted default">0
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/134429/activate-deactivate-plugin?rq=1" class="question-hyperlink">Activate / Deactivate plugin</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/135393?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">0
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/135393/different-plugins-activated-online-and-offline?rq=1" class="question-hyperlink">Different plugins activated online and offline</a>
</div>
<div class="spacer js-gps-track">
<a href="http://wordpress.stackexchange.com/q/145155?rq=1" title="Vote score (upvotes - downvotes)">
    <div class="answer-votes default">0
    </div>
</a><a href="http://wordpress.stackexchange.com/questions/145155/wordpress-plugin-options-need-to-delete-after-deactivate-uninstall?rq=1" class="question-hyperlink">Wordpress plugin options need to delete after deactivate &amp; uninstall</a>
</div>

                    </div>
				</div>
            
<div id="hot-network-questions" class="module">
    <h4>
        <a href="http://stackexchange.com/questions?tab=hot" class="js-gps-track" data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li>
                <div class="favicon favicon-unix" title="Unix &amp; Linux Stack Exchange"></div><a href="http://unix.stackexchange.com/questions/168866/is-there-a-simple-bash-tool-which-can-quickly-render-basic-html" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:106 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is there a simple bash tool which can quickly render basic HTML
                </a>

            </li>
            <li>
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="http://scifi.stackexchange.com/questions/73173/possible-twilight-zone-or-outer-limits" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Possible Twilight Zone or Outer Limits
                </a>

            </li>
            <li>
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="http://rpg.stackexchange.com/questions/51135/rpg-system-that-best-balances-practical-gameplay-meaningful-player-choices-and" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    RPG system that best balances practical gameplay, meaningful player choices and a deep and open campaign setting
                </a>

            </li>
            <li>
                <div class="favicon favicon-dba" title="Database Administrators Stack Exchange"></div><a href="http://dba.stackexchange.com/questions/83217/why-do-nonclustered-indexes-use-clustered-indexes-instead-of-the-table-data-page" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:182 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why do nonclustered Indexes use clustered indexes instead of the table data pages directly?
                </a>

            </li>
            <li>
                <div class="favicon favicon-puzzling" title="Puzzling Stack Exchange"></div><a href="http://puzzling.stackexchange.com/questions/5290/the-hallway-and-tele-doors" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:559 }); posts_hot_network.click({ item_type:2, location:11 })">
                    The Hallway and Tele Doors
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-physics" title="Physics Stack Exchange"></div><a href="http://physics.stackexchange.com/questions/147908/falling-upward-how-far-you-have-to-be-from-earth-to-start-falling-to-the-moo" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:151 }); posts_hot_network.click({ item_type:2, location:11 })">
                    "Falling upward" - how far you have to be from earth to start falling to the moon
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-ell" title="English Language Learners Stack Exchange"></div><a href="http://ell.stackexchange.com/questions/39975/does-this-have-two-meanings-how-do-you-like-your-coffee" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:481 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Does this have two meanings: 'how do you like your coffee'?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-scifi" title="Science Fiction &amp; Fantasy Stack Exchange"></div><a href="http://scifi.stackexchange.com/questions/73159/in-star-wars-how-do-they-empty-toilets-in-space" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:186 }); posts_hot_network.click({ item_type:2, location:11 })">
                    In Star-Wars, how do they empty toilets in space?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-chess" title="Chess Stack Exchange"></div><a href="http://chess.stackexchange.com/questions/7858/is-this-sicilian-opening-dubious" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:435 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is this Sicilian opening dubious?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-judaism" title="Mi Yodeya"></div><a href="http://judaism.stackexchange.com/questions/48547/who-is-shmuel-s-father-why-is-he-called-by-his-son-s-name" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:248 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Who is Shmuel’s father? &amp; Why is he called by his son’s name?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-space" title="Space Exploration Stack Exchange"></div><a href="http://space.stackexchange.com/questions/6000/what-is-the-largest-hurdle-of-the-mission-to-mars" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:508 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the largest hurdle of the mission to Mars?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="http://tex.stackexchange.com/questions/213141/how-to-split-item-in-itemize-over-two-lines" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to split item in itemize over two lines
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-gaming" title="Arqade"></div><a href="http://gaming.stackexchange.com/questions/192383/how-can-i-break-blocks-remotely" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:41 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How can I break blocks remotely?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-stats" title="Cross Validated"></div><a href="http://stats.stackexchange.com/questions/124879/probability-of-getting-the-correct-direction-given-you-get-the-same-answer" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:65 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Probability of getting the correct direction, given you get the same answer
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="http://stackoverflow.com/questions/27042935/c-c-inline-keyword-vs-inlining-concept" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    C/C++: "inline" keyword vs "inlining" concept
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-earthscience" title="Earth Science Stack Exchange"></div><a href="http://earthscience.stackexchange.com/questions/2855/how-do-we-know-the-asteroids-formed-at-the-same-time-as-earth" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:553 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How do we know the asteroids formed at the same time as earth?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-workplace" title="The Workplace Stack Exchange"></div><a href="http://workplace.stackexchange.com/questions/36368/a-co-worker-is-using-my-cup" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:423 }); posts_hot_network.click({ item_type:2, location:11 })">
                    A co-worker is using my cup
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="http://english.stackexchange.com/questions/209139/what-term-means-all-of-the-words-one-knows" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What term means "all of the words one knows"?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-math" title="Mathematics Stack Exchange"></div><a href="http://math.stackexchange.com/questions/1031256/do-cantors-theorem-and-the-schroder-bernstein-theorem-contradict" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:69 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Do Cantor's Theorem and the Schroder-Bernstein Theorem Contradict?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-codegolf" title="Programming Puzzles &amp; Code Golf Stack Exchange"></div><a href="http://codegolf.stackexchange.com/questions/41626/reverse-the-polarity" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:200 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Reverse the Polarity
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-bicycles" title="Bicycles Stack Exchange"></div><a href="http://bicycles.stackexchange.com/questions/25753/can-you-use-an-alfine-8-speed-disc-hub-with-a-non-disc-wheel" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:126 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can you use an Alfine 8-speed "disc" hub with a non-disc wheel?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-codereview" title="Code Review Stack Exchange"></div><a href="http://codereview.stackexchange.com/questions/70361/determining-whether-two-scrambled-strings-are-equivalent" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:196 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Determining whether two scrambled strings are equivalent
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-sports" title="Sports Stack Exchange"></div><a href="http://sports.stackexchange.com/questions/7151/is-it-possible-for-an-nfl-team-to-go-20-0" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:411 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is it possible for an NFL team to go 20-0?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-emacs" title="Emacs Stack Exchange"></div><a href="http://emacs.stackexchange.com/questions/3759/test-variable-is-bound-and-non-nil" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:583 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Test variable is bound and non-nil
                </a>

            </li>
    </ul>

        
</div>
		</div>
	
<div id="feed-link">
    <div id="feed-link-text">
        <a href="http://wordpress.stackexchange.com/feeds/question/25910" title="feed of this question and its answers">
            <span class="feed-icon"></span>question feed
        </a>
    </div>
</div>	<script>
StackExchange.ready(function(){$.get('/posts/25910/ivc/f508');});
</script>
<noscript>
    &lt;div&gt;&lt;img src="/posts/25910/ivc/f508" class="dno" alt="" width="0" height="0"&gt;&lt;/div&gt;
</noscript><div style="display:none" id="prettify-lang">default</div></div>



        </div>
    </div>
    <div id="footer" class="categories">
        <div class="footerwrap">
            <div id="footer-menu">
                <div class="top-footer-links">
                        <a href="http://wordpress.stackexchange.com/tour">tour</a>
                    <a href="http://wordpress.stackexchange.com/help">help</a>
                    <a href="http://blog.stackexchange.com/?blb=1">blog</a>
                        <a href="http://chat.stackexchange.com/">chat</a>
                    <a href="http://data.stackexchange.com/">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackexchange.com/work-here">work here</a>
                    <a href="http://stackexchange.com/mediakit">advertising info</a>

                    <a onclick="StackExchange.switchMobile(&quot;on&quot;)">mobile</a>
                    <b><a href="http://wordpress.stackexchange.com/contact">contact us</a></b>
                        <b><a href="http://meta.wordpress.stackexchange.com/">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tbody><tr>
            <th colspan="3">
                Technology
            </th>
            <th>
                Life / Arts
            </th>
            <th>
                Culture / Recreation
            </th>
            <th>
                Science
            </th>
            <th>
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com/" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com/" title="professional system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com/" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com/" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com/" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com/" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com/" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com/" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://programmers.stackexchange.com/" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="http://unix.stackexchange.com/" title="users of Linux, FreeBSD and other Un*x-like operating systems.">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com/" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com/" title="WordPress developers and administrators">WordPress Development</a></li>
                        <li><a href="http://gis.stackexchange.com/" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com/" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com/" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com/" title="Information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://dba.stackexchange.com/" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com/" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com/" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com/" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com/" title="users of Mathematica">Mathematica</a></li>
                        <li><a href="http://salesforce.stackexchange.com/" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (13)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com/" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com/" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://graphicdesign.stackexchange.com/" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                        <li><a href="http://cooking.stackexchange.com/" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com/" title="contractors and serious DIYers">Home Improvement</a></li>
                        <li><a href="http://money.stackexchange.com/" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                        <li><a href="http://academia.stackexchange.com/" title="academics and those enrolled in higher education">Academia</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (10)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com/" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com/" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com/" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com/" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com/" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://gaming.stackexchange.com/" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                        <li><a href="http://bicycles.stackexchange.com/" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com/" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (21)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://math.stackexchange.com/" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com/" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com/" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com/" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://mathoverflow.net/" title="professional mathematicians">MathOverflow</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://stackapps.com/" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://meta.stackexchange.com/" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                        <li><a href="http://area51.stackexchange.com/" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="http://careers.stackoverflow.com/?utm_source=stackoverflow.com&utm_medium=site-ui&utm_campaign=footerlink">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</tbody></table>
                </div>
            </div>

            <div id="copyright">
                site design / logo © 2014 stack exchange inc; user contributions licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a>                   with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="svnrev">
                rev 2014.11.20.2033
            </div>
                <div id="additional-notices">
                    WordPress is a trademark of the WordPress Foundation, registered in the US and other countries. This site is not affiliated with the WordPress Foundation in any way.
                </div>
            
        </div>
    <iframe id="global-auth-frame" style="display:none" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/read.html"></iframe></div>
    <noscript>
        &lt;div id="noscript-warning"&gt;WordPress Development Stack Exchange works best with JavaScript enabled&lt;img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"&gt;&lt;/div&gt;
    </noscript>
<script>var p = "http", d = "static"; if (document.location.protocol == "https:") { p += "s"; d = "engine"; } var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = p + "://" + d + ".adzerk.net/ados.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script>
<script>
    var ados = ados || {};
    ados.run = ados.run || [];
    ados.run.push(function () { ados_setKeywords('plugins,activation,uninstallation,deactivation,x-community,x-host-wordpress.stackexchange.com');; ados_load(); });         
</script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-5620270-24', '.stackexchange.com');
        
        
        ga('set', 'dimension2', '|plugins|activation|uninstallation|deactivation|');         
        ga('send', 'pageview');
        var _qevents = _qevents || [],
            _comscore = _comscore || [];
        (function () {
            var ssl='https:'==document.location.protocol,
                s=document.getElementsByTagName('script')[0],
                qc=document.createElement('script');
            qc.async=true;
            qc.src=(ssl?'https://secure':'http://edge')+'.quantserve.com/quant.js';
            s.parentNode.insertBefore(qc, s);
            var sc=document.createElement('script');
            sc.async=true;
            sc.src=(ssl?'https://sb':'http://b') + '.scorecardresearch.com/beacon.js';
            s.parentNode.insertBefore(sc, s);
        })();
        _comscore.push({ c1: "2", c2: "17440561" });
        _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
    </script>                <iframe id="teststackoverflow" style="display:none" src="./activation - Uninstall, Activate, Deactivate a plugin  typical features & how-to - WordPress Development Stack Exchange_files/saved_resource.html"></iframe>
        <script>$(window).load(function () { $('#teststackoverflow').attr('src', 'https://teststackoverflow.com'); });</script>

    
    
</body></html>